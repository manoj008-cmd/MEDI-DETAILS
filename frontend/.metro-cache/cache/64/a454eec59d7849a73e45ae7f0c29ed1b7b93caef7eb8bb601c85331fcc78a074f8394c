{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":69,"index":114}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMedicines = useMedicines;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[2], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  function useMedicines() {\n    const [medicines, setMedicines] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const getAuthHeaders = async () => {\n      const token = await AsyncStorage.default.getItem('auth_token');\n      return {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      };\n    };\n    const fetchMedicines = async () => {\n      try {\n        setLoading(true);\n        const headers = await getAuthHeaders();\n        const response = await fetch(`${API_URL}/medicines`, {\n          headers\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setMedicines(data);\n        } else {\n          console.error('Failed to fetch medicines');\n        }\n      } catch (error) {\n        console.error('Error fetching medicines:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const addMedicine = async medicineData => {\n      try {\n        const headers = await getAuthHeaders();\n        const response = await fetch(`${API_URL}/medicines`, {\n          method: 'POST',\n          headers,\n          body: JSON.stringify(medicineData)\n        });\n        if (response.ok) {\n          const newMedicine = await response.json();\n          setMedicines(prev => [...prev, newMedicine]);\n          return true;\n        } else {\n          const error = await response.json();\n          Alert.default.alert('Error', error.detail || 'Failed to add medicine');\n          return false;\n        }\n      } catch (error) {\n        console.error('Error adding medicine:', error);\n        Alert.default.alert('Error', 'Network error. Please try again.');\n        return false;\n      }\n    };\n    const updateMedicine = async (id, medicineData) => {\n      try {\n        const headers = await getAuthHeaders();\n        const response = await fetch(`${API_URL}/medicines/${id}`, {\n          method: 'PUT',\n          headers,\n          body: JSON.stringify(medicineData)\n        });\n        if (response.ok) {\n          const updatedMedicine = await response.json();\n          setMedicines(prev => prev.map(med => med.id === id ? updatedMedicine : med));\n          return true;\n        } else {\n          const error = await response.json();\n          Alert.default.alert('Error', error.detail || 'Failed to update medicine');\n          return false;\n        }\n      } catch (error) {\n        console.error('Error updating medicine:', error);\n        Alert.default.alert('Error', 'Network error. Please try again.');\n        return false;\n      }\n    };\n    const deleteMedicine = async id => {\n      try {\n        const headers = await getAuthHeaders();\n        const response = await fetch(`${API_URL}/medicines/${id}`, {\n          method: 'DELETE',\n          headers\n        });\n        if (response.ok) {\n          setMedicines(prev => prev.filter(med => med.id !== id));\n          return true;\n        } else {\n          const error = await response.json();\n          Alert.default.alert('Error', error.detail || 'Failed to delete medicine');\n          return false;\n        }\n      } catch (error) {\n        console.error('Error deleting medicine:', error);\n        Alert.default.alert('Error', 'Network error. Please try again.');\n        return false;\n      }\n    };\n    (0, _react.useEffect)(() => {\n      fetchMedicines();\n    }, []);\n    return {\n      medicines,\n      loading,\n      addMedicine,\n      updateMedicine,\n      deleteMedicine,\n      refetch: fetchMedicines\n    };\n  }\n});","lineCount":127,"map":[[12,2,22,0,"exports"],[12,9,22,0],[12,10,22,0,"useMedicines"],[12,22,22,0],[12,25,22,0,"useMedicines"],[12,37,22,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[14,42,2,0],[14,45,2,0,"require"],[14,52,2,0],[14,53,2,0,"_dependencyMap"],[14,67,2,0],[15,2,2,0],[15,6,2,0,"AsyncStorage"],[15,18,2,0],[15,21,2,0,"_interopDefault"],[15,36,2,0],[15,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[15,73,2,0],[16,2,2,69],[16,6,2,69,"_reactNativeWebDistExportsAlert"],[16,37,2,69],[16,40,2,69,"require"],[16,47,2,69],[16,48,2,69,"_dependencyMap"],[16,62,2,69],[17,2,2,69],[17,6,2,69,"Alert"],[17,11,2,69],[17,14,2,69,"_interopDefault"],[17,29,2,69],[17,30,2,69,"_reactNativeWebDistExportsAlert"],[17,61,2,69],[18,2,20,0],[18,8,20,6,"API_URL"],[18,15,20,13],[18,18,20,16,"process"],[18,25,20,23],[18,26,20,24,"env"],[18,29,20,27],[18,30,20,28,"EXPO_PUBLIC_BACKEND_URL"],[18,53,20,51],[18,56,20,54],[18,62,20,60],[19,2,22,7],[19,11,22,16,"useMedicines"],[19,23,22,28,"useMedicines"],[19,24,22,28],[19,26,22,31],[20,4,23,2],[20,10,23,8],[20,11,23,9,"medicines"],[20,20,23,18],[20,22,23,20,"setMedicines"],[20,34,23,32],[20,35,23,33],[20,38,23,36],[20,42,23,36,"useState"],[20,48,23,44],[20,49,23,44,"useState"],[20,57,23,44],[20,59,23,57],[20,61,23,59],[20,62,23,60],[21,4,24,2],[21,10,24,8],[21,11,24,9,"loading"],[21,18,24,16],[21,20,24,18,"setLoading"],[21,30,24,28],[21,31,24,29],[21,34,24,32],[21,38,24,32,"useState"],[21,44,24,40],[21,45,24,40,"useState"],[21,53,24,40],[21,55,24,41],[21,60,24,46],[21,61,24,47],[22,4,26,2],[22,10,26,8,"getAuthHeaders"],[22,24,26,22],[22,27,26,25],[22,33,26,25,"getAuthHeaders"],[22,34,26,25],[22,39,26,37],[23,6,27,4],[23,12,27,10,"token"],[23,17,27,15],[23,20,27,18],[23,26,27,24,"AsyncStorage"],[23,38,27,36],[23,39,27,36,"default"],[23,46,27,36],[23,47,27,37,"getItem"],[23,54,27,44],[23,55,27,45],[23,67,27,57],[23,68,27,58],[24,6,28,4],[24,13,28,11],[25,8,29,6],[25,22,29,20],[25,24,29,22],[25,42,29,40],[26,8,30,6],[26,23,30,21],[26,25,30,23],[26,35,30,33,"token"],[26,40,30,38],[27,6,31,4],[27,7,31,5],[28,4,32,2],[28,5,32,3],[29,4,34,2],[29,10,34,8,"fetchMedicines"],[29,24,34,22],[29,27,34,25],[29,33,34,25,"fetchMedicines"],[29,34,34,25],[29,39,34,37],[30,6,35,4],[30,10,35,8],[31,8,36,6,"setLoading"],[31,18,36,16],[31,19,36,17],[31,23,36,21],[31,24,36,22],[32,8,37,6],[32,14,37,12,"headers"],[32,21,37,19],[32,24,37,22],[32,30,37,28,"getAuthHeaders"],[32,44,37,42],[32,45,37,43],[32,46,37,44],[33,8,38,6],[33,14,38,12,"response"],[33,22,38,20],[33,25,38,23],[33,31,38,29,"fetch"],[33,36,38,34],[33,37,38,35],[33,40,38,38,"API_URL"],[33,47,38,45],[33,59,38,57],[33,61,38,59],[34,10,38,61,"headers"],[35,8,38,69],[35,9,38,70],[35,10,38,71],[36,8,40,6],[36,12,40,10,"response"],[36,20,40,18],[36,21,40,19,"ok"],[36,23,40,21],[36,25,40,23],[37,10,41,8],[37,16,41,14,"data"],[37,20,41,18],[37,23,41,21],[37,29,41,27,"response"],[37,37,41,35],[37,38,41,36,"json"],[37,42,41,40],[37,43,41,41],[37,44,41,42],[38,10,42,8,"setMedicines"],[38,22,42,20],[38,23,42,21,"data"],[38,27,42,25],[38,28,42,26],[39,8,43,6],[39,9,43,7],[39,15,43,13],[40,10,44,8,"console"],[40,17,44,15],[40,18,44,16,"error"],[40,23,44,21],[40,24,44,22],[40,51,44,49],[40,52,44,50],[41,8,45,6],[42,6,46,4],[42,7,46,5],[42,8,46,6],[42,15,46,13,"error"],[42,20,46,18],[42,22,46,20],[43,8,47,6,"console"],[43,15,47,13],[43,16,47,14,"error"],[43,21,47,19],[43,22,47,20],[43,49,47,47],[43,51,47,49,"error"],[43,56,47,54],[43,57,47,55],[44,6,48,4],[44,7,48,5],[44,16,48,14],[45,8,49,6,"setLoading"],[45,18,49,16],[45,19,49,17],[45,24,49,22],[45,25,49,23],[46,6,50,4],[47,4,51,2],[47,5,51,3],[48,4,53,2],[48,10,53,8,"addMedicine"],[48,21,53,19],[48,24,53,22],[48,30,53,29,"medicineData"],[48,42,53,93],[48,46,53,98],[49,6,54,4],[49,10,54,8],[50,8,55,6],[50,14,55,12,"headers"],[50,21,55,19],[50,24,55,22],[50,30,55,28,"getAuthHeaders"],[50,44,55,42],[50,45,55,43],[50,46,55,44],[51,8,56,6],[51,14,56,12,"response"],[51,22,56,20],[51,25,56,23],[51,31,56,29,"fetch"],[51,36,56,34],[51,37,56,35],[51,40,56,38,"API_URL"],[51,47,56,45],[51,59,56,57],[51,61,56,59],[52,10,57,8,"method"],[52,16,57,14],[52,18,57,16],[52,24,57,22],[53,10,58,8,"headers"],[53,17,58,15],[54,10,59,8,"body"],[54,14,59,12],[54,16,59,14,"JSON"],[54,20,59,18],[54,21,59,19,"stringify"],[54,30,59,28],[54,31,59,29,"medicineData"],[54,43,59,41],[55,8,60,6],[55,9,60,7],[55,10,60,8],[56,8,62,6],[56,12,62,10,"response"],[56,20,62,18],[56,21,62,19,"ok"],[56,23,62,21],[56,25,62,23],[57,10,63,8],[57,16,63,14,"newMedicine"],[57,27,63,25],[57,30,63,28],[57,36,63,34,"response"],[57,44,63,42],[57,45,63,43,"json"],[57,49,63,47],[57,50,63,48],[57,51,63,49],[58,10,64,8,"setMedicines"],[58,22,64,20],[58,23,64,21,"prev"],[58,27,64,25],[58,31,64,29],[58,32,64,30],[58,35,64,33,"prev"],[58,39,64,37],[58,41,64,39,"newMedicine"],[58,52,64,50],[58,53,64,51],[58,54,64,52],[59,10,65,8],[59,17,65,15],[59,21,65,19],[60,8,66,6],[60,9,66,7],[60,15,66,13],[61,10,67,8],[61,16,67,14,"error"],[61,21,67,19],[61,24,67,22],[61,30,67,28,"response"],[61,38,67,36],[61,39,67,37,"json"],[61,43,67,41],[61,44,67,42],[61,45,67,43],[62,10,68,8,"Alert"],[62,15,68,13],[62,16,68,13,"default"],[62,23,68,13],[62,24,68,14,"alert"],[62,29,68,19],[62,30,68,20],[62,37,68,27],[62,39,68,29,"error"],[62,44,68,34],[62,45,68,35,"detail"],[62,51,68,41],[62,55,68,45],[62,79,68,69],[62,80,68,70],[63,10,69,8],[63,17,69,15],[63,22,69,20],[64,8,70,6],[65,6,71,4],[65,7,71,5],[65,8,71,6],[65,15,71,13,"error"],[65,20,71,18],[65,22,71,20],[66,8,72,6,"console"],[66,15,72,13],[66,16,72,14,"error"],[66,21,72,19],[66,22,72,20],[66,46,72,44],[66,48,72,46,"error"],[66,53,72,51],[66,54,72,52],[67,8,73,6,"Alert"],[67,13,73,11],[67,14,73,11,"default"],[67,21,73,11],[67,22,73,12,"alert"],[67,27,73,17],[67,28,73,18],[67,35,73,25],[67,37,73,27],[67,71,73,61],[67,72,73,62],[68,8,74,6],[68,15,74,13],[68,20,74,18],[69,6,75,4],[70,4,76,2],[70,5,76,3],[71,4,78,2],[71,10,78,8,"updateMedicine"],[71,24,78,22],[71,27,78,25],[71,33,78,25,"updateMedicine"],[71,34,78,32,"id"],[71,36,78,42],[71,38,78,44,"medicineData"],[71,50,78,75],[71,55,78,80],[72,6,79,4],[72,10,79,8],[73,8,80,6],[73,14,80,12,"headers"],[73,21,80,19],[73,24,80,22],[73,30,80,28,"getAuthHeaders"],[73,44,80,42],[73,45,80,43],[73,46,80,44],[74,8,81,6],[74,14,81,12,"response"],[74,22,81,20],[74,25,81,23],[74,31,81,29,"fetch"],[74,36,81,34],[74,37,81,35],[74,40,81,38,"API_URL"],[74,47,81,45],[74,61,81,59,"id"],[74,63,81,61],[74,65,81,63],[74,67,81,65],[75,10,82,8,"method"],[75,16,82,14],[75,18,82,16],[75,23,82,21],[76,10,83,8,"headers"],[76,17,83,15],[77,10,84,8,"body"],[77,14,84,12],[77,16,84,14,"JSON"],[77,20,84,18],[77,21,84,19,"stringify"],[77,30,84,28],[77,31,84,29,"medicineData"],[77,43,84,41],[78,8,85,6],[78,9,85,7],[78,10,85,8],[79,8,87,6],[79,12,87,10,"response"],[79,20,87,18],[79,21,87,19,"ok"],[79,23,87,21],[79,25,87,23],[80,10,88,8],[80,16,88,14,"updatedMedicine"],[80,31,88,29],[80,34,88,32],[80,40,88,38,"response"],[80,48,88,46],[80,49,88,47,"json"],[80,53,88,51],[80,54,88,52],[80,55,88,53],[81,10,89,8,"setMedicines"],[81,22,89,20],[81,23,89,21,"prev"],[81,27,89,25],[81,31,90,10,"prev"],[81,35,90,14],[81,36,90,15,"map"],[81,39,90,18],[81,40,90,19,"med"],[81,43,90,22],[81,47,90,26,"med"],[81,50,90,29],[81,51,90,30,"id"],[81,53,90,32],[81,58,90,37,"id"],[81,60,90,39],[81,63,90,42,"updatedMedicine"],[81,78,90,57],[81,81,90,60,"med"],[81,84,90,63],[81,85,91,8],[81,86,91,9],[82,10,92,8],[82,17,92,15],[82,21,92,19],[83,8,93,6],[83,9,93,7],[83,15,93,13],[84,10,94,8],[84,16,94,14,"error"],[84,21,94,19],[84,24,94,22],[84,30,94,28,"response"],[84,38,94,36],[84,39,94,37,"json"],[84,43,94,41],[84,44,94,42],[84,45,94,43],[85,10,95,8,"Alert"],[85,15,95,13],[85,16,95,13,"default"],[85,23,95,13],[85,24,95,14,"alert"],[85,29,95,19],[85,30,95,20],[85,37,95,27],[85,39,95,29,"error"],[85,44,95,34],[85,45,95,35,"detail"],[85,51,95,41],[85,55,95,45],[85,82,95,72],[85,83,95,73],[86,10,96,8],[86,17,96,15],[86,22,96,20],[87,8,97,6],[88,6,98,4],[88,7,98,5],[88,8,98,6],[88,15,98,13,"error"],[88,20,98,18],[88,22,98,20],[89,8,99,6,"console"],[89,15,99,13],[89,16,99,14,"error"],[89,21,99,19],[89,22,99,20],[89,48,99,46],[89,50,99,48,"error"],[89,55,99,53],[89,56,99,54],[90,8,100,6,"Alert"],[90,13,100,11],[90,14,100,11,"default"],[90,21,100,11],[90,22,100,12,"alert"],[90,27,100,17],[90,28,100,18],[90,35,100,25],[90,37,100,27],[90,71,100,61],[90,72,100,62],[91,8,101,6],[91,15,101,13],[91,20,101,18],[92,6,102,4],[93,4,103,2],[93,5,103,3],[94,4,105,2],[94,10,105,8,"deleteMedicine"],[94,24,105,22],[94,27,105,25],[94,33,105,32,"id"],[94,35,105,42],[94,39,105,47],[95,6,106,4],[95,10,106,8],[96,8,107,6],[96,14,107,12,"headers"],[96,21,107,19],[96,24,107,22],[96,30,107,28,"getAuthHeaders"],[96,44,107,42],[96,45,107,43],[96,46,107,44],[97,8,108,6],[97,14,108,12,"response"],[97,22,108,20],[97,25,108,23],[97,31,108,29,"fetch"],[97,36,108,34],[97,37,108,35],[97,40,108,38,"API_URL"],[97,47,108,45],[97,61,108,59,"id"],[97,63,108,61],[97,65,108,63],[97,67,108,65],[98,10,109,8,"method"],[98,16,109,14],[98,18,109,16],[98,26,109,24],[99,10,110,8,"headers"],[100,8,111,6],[100,9,111,7],[100,10,111,8],[101,8,113,6],[101,12,113,10,"response"],[101,20,113,18],[101,21,113,19,"ok"],[101,23,113,21],[101,25,113,23],[102,10,114,8,"setMedicines"],[102,22,114,20],[102,23,114,21,"prev"],[102,27,114,25],[102,31,114,29,"prev"],[102,35,114,33],[102,36,114,34,"filter"],[102,42,114,40],[102,43,114,41,"med"],[102,46,114,44],[102,50,114,48,"med"],[102,53,114,51],[102,54,114,52,"id"],[102,56,114,54],[102,61,114,59,"id"],[102,63,114,61],[102,64,114,62],[102,65,114,63],[103,10,115,8],[103,17,115,15],[103,21,115,19],[104,8,116,6],[104,9,116,7],[104,15,116,13],[105,10,117,8],[105,16,117,14,"error"],[105,21,117,19],[105,24,117,22],[105,30,117,28,"response"],[105,38,117,36],[105,39,117,37,"json"],[105,43,117,41],[105,44,117,42],[105,45,117,43],[106,10,118,8,"Alert"],[106,15,118,13],[106,16,118,13,"default"],[106,23,118,13],[106,24,118,14,"alert"],[106,29,118,19],[106,30,118,20],[106,37,118,27],[106,39,118,29,"error"],[106,44,118,34],[106,45,118,35,"detail"],[106,51,118,41],[106,55,118,45],[106,82,118,72],[106,83,118,73],[107,10,119,8],[107,17,119,15],[107,22,119,20],[108,8,120,6],[109,6,121,4],[109,7,121,5],[109,8,121,6],[109,15,121,13,"error"],[109,20,121,18],[109,22,121,20],[110,8,122,6,"console"],[110,15,122,13],[110,16,122,14,"error"],[110,21,122,19],[110,22,122,20],[110,48,122,46],[110,50,122,48,"error"],[110,55,122,53],[110,56,122,54],[111,8,123,6,"Alert"],[111,13,123,11],[111,14,123,11,"default"],[111,21,123,11],[111,22,123,12,"alert"],[111,27,123,17],[111,28,123,18],[111,35,123,25],[111,37,123,27],[111,71,123,61],[111,72,123,62],[112,8,124,6],[112,15,124,13],[112,20,124,18],[113,6,125,4],[114,4,126,2],[114,5,126,3],[115,4,128,2],[115,8,128,2,"useEffect"],[115,14,128,11],[115,15,128,11,"useEffect"],[115,24,128,11],[115,26,128,12],[115,32,128,18],[116,6,129,4,"fetchMedicines"],[116,20,129,18],[116,21,129,19],[116,22,129,20],[117,4,130,2],[117,5,130,3],[117,7,130,5],[117,9,130,7],[117,10,130,8],[118,4,132,2],[118,11,132,9],[119,6,133,4,"medicines"],[119,15,133,13],[120,6,134,4,"loading"],[120,13,134,11],[121,6,135,4,"addMedicine"],[121,17,135,15],[122,6,136,4,"updateMedicine"],[122,20,136,18],[123,6,137,4,"deleteMedicine"],[123,20,137,18],[124,6,138,4,"refetch"],[124,13,138,11],[124,15,138,13,"fetchMedicines"],[125,4,139,2],[125,5,139,3],[126,2,140,0],[127,0,140,1],[127,3]],"functionMap":{"names":["<global>","useMedicines","getAuthHeaders","fetchMedicines","addMedicine","setMedicines$argument_0","updateMedicine","prev.map$argument_0","deleteMedicine","prev.filter$argument_0","useEffect$argument_0"],"mappings":"AAA;OCqB;yBCI;GDM;yBEE;GFiB;sBGE;qBCW,8BD;GHY;yBKE;qBDW;mBEC,4CF,CC;GLa;yBOE;qBHS,oBI,oBJ,CG;GPY;YSE;GTE;CDU"},"hasCjsExports":false},"type":"js/module"}]}